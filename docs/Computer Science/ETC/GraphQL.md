# GraphQL이란?

- 페이스북에서 만든 쿼리 언어이다. 즉 우리가 흔히 아는 sql과 마찬가지로 쿼리 언어이다.<br>
    - 하지만 둘은 구조적으로, 활용면에서도 매우 다르다.

- sql은 데이터베이스 시스템에 저장된 데이터를 가져오는 것이 목적이라면,<br>
gql 은 "웹 클라이언트가 데이터를 서버로부터 가져오는 것"이 목적이다.<br>
그렇기때문에 sql은 주로 클라이언트의 요청에 의해 백엔드에서 -> 데이터베이스 시스템으로 작성하고 호출하는 반면,<br>
gql은 주로 클라이언트 시스템에서 작성하고 호출한다.

- sql 쿼리 예시

            
            SELECT plot_id, species_id, sex, weight, ROUND(weight / 1000.0, 2) FROM surveys;
            
- gql 쿼리 예시

            {
              hero {
                name
                friends {
                  name
                }
              }
            }
            

- 서버사이드 gql 어플리케이션은 gql로 작성된 쿼리를 클라이언트로부터 입력으로 받아 쿼리를 처리한 결과를 다시 클라이언트로 돌려준다.<br>
HTTP API 자체가 특정 데이터베이스나 플렛폼에 종속적이지 않은것 처럼 마찬가지로<br>
 gql 역시 어떠한 특정 데이터베이스나 플렛폼에 종속적이지 않다.
    - 클라이언트로부터의 gql로 작성된 쿼리 요청 -> gql을 파싱할 수 있는 구현체 -> DB로의 접근 -> 데이터 반환
    
## REST API와 비교
- REST API는 URL, METHOD등을 조합하기 때문에 다양한 Endpoint가 존재한다.(ex: post example.com/user, get example.com/?user=1)<br>
반면, gql은 단 하나의 Endpoint가 존재 한다. 또한, gql API에서는 불러오는 데이터의 종류를 "쿼리 조합"을 통해서 결정 한다.
    - 단 하나의 Endpoint로 쿼리 조합을 통해 요청을하고 데이터를 받는다. 
    - 즉 쿼리 조합에 따라 요청과 반환이 달라진다!

  
## GraphQL의 구조
- 쿼리/뮤테이션(query/mutation)
    - gql에서는 굳이 쿼리와 뮤테이션을 나누는데 내부적으로 들어가면 사실상 이 둘은 별 차이가 없다.<br>
     쿼리는 데이터를 읽는데(R) 사용하고, 뮤테이션은 데이터를 변조(CUD) 하는데 사용한다는 개념 적인 규약을 정해 놓은 것 뿐이다.
     
## 인트로스펙션(introspection)
- 기존 서버-클라이언트 협업 방식에서는 연동규격서라고 하는 API 명세서를 주고 받는 절차가 반드시 필요 했다.<br>
 프로젝트 관리 측면에서 관리해야 할 대상의 증가는 작업의 복잡성 및 효율성 저해를 의미하는데,<br>
 이 API 명세서는 때때로 관리가 제대로 되지 않아, 인터페이스 변경 사항을 제때 문서에 반영하지 못하기도 하고, 제 타이밍에 전달 못하곤 한다.

- 이러한 REST의 API 명세서 공유와 같은 문제를 해결하는 것이 gql의 인트로스펙션 기능이다. <br>
gql의 인트로스펙션은 서버 자체에서 현재 서버에 정의된 스키마의 실시간 정보를 공유를 할 수 있게 합니다.<br> 
이 스키마 정보만 알고 있으면 클라이언트 사이드에서는 따로 연동규격서를 요청 할 필요가 없게 됩니다.<br>
 클라이언트 사이드에서는 실시간으로 현재 서버에서 정의하고 있는 스키마를 의심 할 필요 없이 받아들이고, 그에 맞게 쿼리문을 작성하면 됩니다.

