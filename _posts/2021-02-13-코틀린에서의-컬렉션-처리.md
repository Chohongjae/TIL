---
title: "코틀린에서의 컬렉션 처리 - 작성중"
categories: 
  - kotlin
last_modified_at: 2021-02-13T23:00:00+09:00
---

## 컬렉션 처리: 가변 길이 인자, 중위 함수 호출, 라이브러리 지원
- 컬렉션을 처리할 때 쓸 수 있는 코틀린 표준 라이브러리 함수 몇가지를 알아보자.
{: style="font-size: 80%;"}
  
### 자바 컬렉션 API 확장
    앞에서 코틀린 컬렉션은 자바와 같은 클래스를 사용하지만 더 확장된 API를 제공한다고 했다.
    예를들어 리스트의 마지막 원소를 가져오거나, 컬렉션의 최댓값을 찾는 것들을 확인할 수 있었다.
    
    이런 기능은 이제는 확장 함수를 이용해서 가능하다는 것을 우리는 알 수 있다.

```kotlin
fun <T> List<T>.last(): T {// 마지막 원소를 반환하는 로직}
fun Collection<Int>.max(): Int {// 컬렉션의 최댓값을 찾는 로직}
``` 

### 가변 임자 함수: 인자의 개수가 달라질 수 있는 함수 정의
    리스트를 생성하는 함수를 호출할 때 원하는 만큼 많이 원소를 전달할 수 있다.

```kotlin
val list = listOf(1, 2, 3, 4, 5, 6)
```
    
    이 함수의 정의를 보면 다음과 같다.

```kotlin
fun listOf<T>(vararg values: T): List<T> {...}
```
    
    우선 간단하게 자바의 가변인자에 대해 알아보자.
    JDK5부터 가변인자 메서드라고 부르는 지정된 자료형의 인자를 0개 이상 받을 수 있는 varags 메서드가 추가되었다.

```java
public class Test{
    public void test(String ... strings) {
        Arrays.stream(strings).forEach(System.out::println);
    }

    public static void main(String[] args) {
        Test test = new Test();
        test.test("hi", "bye", "test");
    }
}
```

{% raw %} <img src="https://chohongjae.github.io/assets/img/20210213코틀린에서의컬렉션처리/java.png" height="70%" alt=""> {% endraw %}

    이렇게 파라미터 변수명 앞에 ...을 붙이면 컴파일러가 파라미터를 배열 형식으로 바꾸고, 매개변수로 주어지는
    변수들을 모아서 객체로 만든다.

```text
코틀린의 가변 길이 인자는 타입 뒤에 "..." 를 붙이는 대신 코틀린에서는 파라미터 앞에 vararg 변경자를 붙인다.
```

{% raw %} <img src="https://chohongjae.github.io/assets/img/20210213코틀린에서의컬렉션처리/kotlin.png.png" height="70%" alt=""> {% endraw %}
    
    
    이미 배열에 들어있는 원소를 가변 길이 인자로 넘길 때도 코틀린과 자바 구문이 다르다.
    자바에서는 배열을 그냥 넘기면 되지만, 전달하려는 배열 앞에 *를 붙이기만 하면 된다.

```java
// java
public class Test {
    public void test(String... strings) {
        Arrays.stream(strings).forEach(System.out::println);
    }

    public static void main(String[] args) {
        String[] strings = new String[2];
        strings[0] = "hi";
        strings[1] = "bye";
        new Test().test(strings); // 가변인자에 배열을 그냥 넘긴다.
    }
}
```

```kotlin
// kotlin
fun main(args: Array<String>) {
    val array = arrayOf("hi", "hello", "bye")
    test(*array) // 가변인자에 *을 붙여서 넘긴다.
}

fun test(vararg strings: String) {
    println(strings.joinToString(", "))
}
```


### 값의 쌍 다루기: 중위 호출과 구조 분해 선언
    
    
